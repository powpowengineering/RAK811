//**************************************************************************************************
// @Module        RAK811
// @Filename      ModuleRAK811.c
//--------------------------------------------------------------------------------------------------
// @Platform      arduino atmega2560
//--------------------------------------------------------------------------------------------------
// @Compatible    atmega2560
//--------------------------------------------------------------------------------------------------
// @Description   Implementation of the RAK811 functionality.
//                
//
//                Abbreviations:
//                  None.
//                  
//
//                Global (public) functions:
//                  
//                  
//
//                Local (private) functions:
//                  
//                  
//
//--------------------------------------------------------------------------------------------------
// @Version       1.0.0
//--------------------------------------------------------------------------------------------------
// @Date          30.08.2021
//--------------------------------------------------------------------------------------------------
// @History       Version  Author      Comment
// XX.XX.XXXX     1.0.0    KPS         First release.
//**************************************************************************************************



//**************************************************************************************************
// Project Includes
//**************************************************************************************************

// Native header
#include "ModuleRAK811.h"

#include <Arduino.h>


//**************************************************************************************************
// Verification of the imported configuration parameters
//**************************************************************************************************

// None.


//**************************************************************************************************
// Definitions of global (public) variables
//**************************************************************************************************

//configure RAK811 to work in LoRaP2P mode
const char RAK811_confMode[] = {"at+set_config=lora:work_mode:1"};

// configure LoRaP2P parameters
const char RAK811_confPrm[] = {"at+set_config=lorap2p:869525000:7:0:1:5:20"};

// switch the state of the LoRa transceiver to sending state
const char RAK811_taransferMode[] = {"at+set_config=lorap2p:transfer_mode:2"};

const char RAK811_FirstPartStrToSend[] = {"at+send=lorap2p:123"};

//**************************************************************************************************
// Declarations of local (private) data types
//**************************************************************************************************

// None.


//**************************************************************************************************
// Definitions of local (private) constants
//**************************************************************************************************

// None.


//**************************************************************************************************
// Definitions of static global (private) variables
//**************************************************************************************************

// None.


//**************************************************************************************************
// Declarations of local (private) functions
//**************************************************************************************************

// None.


//**************************************************************************************************
//==================================================================================================
// Definitions of global (public) functions
//==================================================================================================
//**************************************************************************************************

//**************************************************************************************************
// @Function      RAK811_init()
//--------------------------------------------------------------------------------------------------
// @Description   Init RAK811
//--------------------------------------------------------------------------------------------------
// @Notes         None.  
//--------------------------------------------------------------------------------------------------
// @ReturnValue   None.
//--------------------------------------------------------------------------------------------------
// @Parameters    None.
//**************************************************************************************************
void RAK811_init(void)
{
	Serial2.begin(115200);
}// end of RAK811_init()



//**************************************************************************************************
// @Function      RAK811_sendMessage()
//--------------------------------------------------------------------------------------------------
// @Description   Send message to RAK811
//--------------------------------------------------------------------------------------------------
// @Notes         None.  
//--------------------------------------------------------------------------------------------------
// @ReturnValue   None.
//--------------------------------------------------------------------------------------------------
// @Parameters    message - data to send
//**************************************************************************************************
void RAK811_sendMessage(const char* const message)
{
    Serial2.println(message);
	Serial.println(message);
}// end of RAK811_sendMessage()



//**************************************************************************************************
//==================================================================================================
// Definitions of local (private) functions
//==================================================================================================
//**************************************************************************************************

// None.



//****************************************** end of file *******************************************
